<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini Debate Arena</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>üé≠ Gemini Debate Arena</h1>
            <p class="subtitle">Watch AI agents battle it out in real-time!</p>
        </header>

        <!-- Setup Section -->
        <section class="setup-section" id="setup-section">
            <div class="setup-card">
                <h2>Start a New Debate</h2>
                
                <label for="question-input">Debate Topic:</label>
                <textarea 
                    id="question-input" 
                    placeholder="e.g., Should AI replace human artists?"
                    rows="3"
                ></textarea>
                
                <label for="rounds-input">Number of Rounds:</label>
                <div class="rounds-selector">
                    <button class="round-btn" data-rounds="1">1 Round</button>
                    <button class="round-btn active" data-rounds="2">2 Rounds</button>
                    <button class="round-btn" data-rounds="3">3 Rounds</button>
                    <button class="round-btn" data-rounds="4">4 Rounds</button>
                    <button class="round-btn" data-rounds="5">5 Rounds</button>
                </div>
                <p class="rounds-info">Selected: <span id="selected-rounds">2</span> rounds</p>
                
                <button id="start-debate-btn" class="primary-btn">
                    <span class="btn-text">‚öîÔ∏è Start Debate</span>
                    <span class="btn-loader" style="display: none;">
                        <span class="spinner"></span> Starting...
                    </span>
                </button>
            </div>
        </section>

        <!-- Debate Arena Section -->
        <section class="arena-section" id="arena-section" style="display: none;">
            <!-- Round Indicator -->
            <div class="round-indicator">
                <h2>Round <span id="current-round">1</span> of <span id="total-rounds">3</span></h2>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
            </div>

            <!-- Debate Stage -->
            <div class="debate-stage">
                <!-- Character Containers -->
                <div class="character-container pro-character" id="pro-character" style="display: none;">
                    <div class="character-avatar pro-avatar">
                        <img src="pro_agent.png" alt="Pro Agent" onerror="this.src='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22150%22 height=%22150%22><circle cx=%2275%22 cy=%2275%22 r=%2270%22 fill=%22%2322c55e%22/><text x=%2275%22 y=%2285%22 font-size=%2250%22 text-anchor=%22middle%22 fill=%22white%22>PRO</text></svg>'">
                    </div>
                    <div class="speech-bubble pro-bubble">
                        <p id="pro-speech"></p>
                    </div>
                </div>

                <div class="character-container con-character" id="con-character" style="display: none;">
                    <div class="character-avatar con-avatar">
                        <img src="con_agent.png" alt="Con Agent" onerror="this.src='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22150%22 height=%22150%22><circle cx=%2275%22 cy=%2275%22 r=%2270%22 fill=%22%23ef4444%22/><text x=%2275%22 y=%2285%22 font-size=%2250%22 text-anchor=%22middle%22 fill=%22white%22>CON</text></svg>'">
                    </div>
                    <div class="speech-bubble con-bubble">
                        <p id="con-speech"></p>
                    </div>
                </div>

                <div class="character-container moderator-character" id="moderator-character" style="display: none;">
                    <div class="character-avatar moderator-avatar">
                        <img src="moderator_agent.png" alt="Moderator" onerror="this.src='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22150%22 height=%22150%22><circle cx=%2275%22 cy=%2275%22 r=%2270%22 fill=%22%23ffffff%22 stroke=%22%23d1af37%22 stroke-width=%225%22/><text x=%2275%22 y=%2285%22 font-size=%2240%22 text-anchor=%22middle%22 fill=%22%23d1af37%22>MOD</text></svg>'">
                    </div>
                    <div class="speech-bubble moderator-bubble">
                        <p id="moderator-speech"></p>
                    </div>
                </div>
            </div>

            <!-- Debate History -->
            <div class="history-panel">
                <h3>üìú Debate History</h3>
                <div class="history-content" id="history-content">
                    <!-- History items will be added here -->
                </div>
            </div>

            <!-- User Interaction -->
            <div class="user-interaction">
                <button id="next-turn-btn" class="action-btn">
                    <span class="btn-text">‚ñ∂Ô∏è Next Turn</span>
                    <span class="btn-loader" style="display: none;">
                        <span class="spinner"></span> Waiting...
                    </span>
                </button>
                
                <button id="add-comment-btn" class="action-btn secondary">
                    üí¨ Add Comment
                </button>
                
                <button id="continue-debate-btn" class="action-btn primary" style="display: none;">
                    ‚ûï Continue Debate
                </button>
                
                <button id="new-debate-btn" class="action-btn secondary" style="display: none;">
                    üîÑ New Debate
                </button>
            </div>

            <!-- Comment Modal -->
            <div class="comment-modal" id="comment-modal" style="display: none;">
                <div class="modal-content">
                    <h3>Add Your Comment</h3>
                    <textarea id="comment-input" rows="4" placeholder="Add clarification, follow-up question, or observation..."></textarea>
                    <div class="modal-actions">
                        <button id="submit-comment-btn" class="primary-btn">Submit</button>
                        <button id="cancel-comment-btn" class="secondary-btn">Cancel</button>
                    </div>
                </div>
            </div>

            <!-- Continue Debate Modal -->
            <div class="comment-modal" id="continue-modal" style="display: none;">
                <div class="modal-content">
                    <h3>Continue the Debate</h3>
                    <p class="modal-subtitle">How many additional rounds would you like?</p>
                    
                    <div class="rounds-selector">
                        <button class="continue-round-btn" data-rounds="1">+1 Round</button>
                        <button class="continue-round-btn active" data-rounds="2">+2 Rounds</button>
                        <button class="continue-round-btn" data-rounds="3">+3 Rounds</button>
                        <button class="continue-round-btn" data-rounds="5">+5 Rounds</button>
                    </div>
                    
                    <p class="modal-subtitle" style="margin-top: 20px;">Would you like to add guidance for the next rounds?</p>
                    <textarea id="continue-comment-input" rows="4" placeholder="Optional: Add direction, focus areas, or questions for the agents to consider..."></textarea>
                    
                    <div class="modal-actions">
                        <button id="continue-with-comment-btn" class="primary-btn">Continue with Comment</button>
                        <button id="continue-without-comment-btn" class="secondary-btn">Continue Without Comment</button>
                        <button id="cancel-continue-btn" class="secondary-btn">Cancel</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Error Display -->
        <div id="error-message" class="error-message" style="display: none;"></div>

        <!-- Footer -->
        <footer class="footer">
            <p>Powered by Gemini API ‚Ä¢ Turn-Based Debate System v3.1</p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>